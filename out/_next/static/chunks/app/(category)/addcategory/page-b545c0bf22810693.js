(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[780],{93631:(e,t,r)=>{Promise.resolve().then(r.bind(r,27761))},76046:(e,t,r)=>{"use strict";var s=r(66658);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},27761:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(95155),a=r(12115),n=r(82651),o=r(76046);let l=()=>{let[e,t]=(0,a.useState)(""),[r,l]=(0,a.useState)(null),[i,u]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null),m=(0,o.useRouter)(),h=async r=>{r.preventDefault(),l(null),c(null),u(!0);try{let r=localStorage.getItem("token");if(!r){l("Authorization token is missing"),m.push("/login");return}let s=await n.A.post("".concat("https://expense-tracker-backend-five-zeta.vercel.app","/api/categories/add"),{name:e},{headers:{Authorization:"Bearer ".concat(r)}});201===s.status?(c("Category added successfully!"),t(""),m.push("/listcategory"),setTimeout(()=>c(null),3e3)):l("Failed to add category!")}catch(e){var s,a;l((null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.message)||"An error occurred while adding the category")}finally{u(!1)}};return(0,s.jsxs)("div",{className:"w-full bg-gradient-to-r from-pink-100 via-purple-100 to-indigo-100 min-h-screen flex flex-col items-center py-6",children:[(0,s.jsx)("div",{className:"w-full flex justify-end px-4",children:(0,s.jsx)("button",{onClick:()=>{m.push("/listcategory")},className:"px-2 py-1 sm:px-3 sm:py-2 text-sm text-white bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full hover:from-yellow-500 hover:to-orange-600 transition-transform transform hover:scale-105 duration-300 shadow-md",children:"List"})}),(0,s.jsxs)("div",{className:"max-w-md w-full p-6 bg-white bg-opacity-70 rounded-lg shadow-lg my-10",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-center mb-6 text-purple-900",children:"Add Expense Category"}),d&&(0,s.jsx)("div",{className:"text-green-600 text-center mb-4",children:d}),r&&(0,s.jsx)("div",{className:"text-red-600 text-center mb-4",children:r}),i&&(0,s.jsx)("div",{className:"text-blue-600 text-center mb-4",children:"Loading..."}),(0,s.jsxs)("form",{onSubmit:h,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-lg font-medium text-indigo-800 mb-2",children:"Category Name"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter category name",required:!0})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)("button",{type:"submit",className:"w-full py-3 text-white bg-gradient-to-r from-green-400 to-blue-500 rounded-full shadow-md hover:from-green-500 hover:to-blue-600 focus:ring-2 focus:ring-offset-2 focus:ring-blue-400 transition duration-300",disabled:i,children:i?"Adding...":"Add Category"})})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[651,441,517,358],()=>t(93631)),_N_E=e.O()}]);