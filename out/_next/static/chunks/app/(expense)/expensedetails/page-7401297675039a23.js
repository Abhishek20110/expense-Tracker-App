(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[945],{98092:(e,t,a)=>{Promise.resolve().then(a.bind(a,2664))},2664:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(95155),i=a(12115),n=a(82651),r=a(39124),l=a(25683),c=a(76046),o=a(301),d=a(46293),x=a(52897),p=a(41983),m=a(48070),h=a(35524);let u=()=>{let[e,t]=(0,i.useState)(null),[a,u]=(0,i.useState)(null),[y,g]=(0,i.useState)(null),N=(0,c.useRouter)(),b=(0,c.useSearchParams)().get("id"),j="https://expense-tracker-backend-five-zeta.vercel.app",f=localStorage.getItem("token");(0,i.useEffect)(()=>{(async()=>{try{if(!f){u("Authorization token is missing"),N.push("/login");return}if(!b){N.push("/listexpense");return}let e=await n.A.get("".concat(j,"/api/expenses/").concat(b),{headers:{Authorization:"Bearer ".concat(f)}});t(e.data)}catch(e){console.error(e),u("Failed to fetch expense")}})()},[j,N,f,b]);let v=async e=>{try{if(!f){u("Authorization token is missing"),N.push("/login");return}await n.A.delete("".concat(j,"/api/expenses//delete/").concat(e),{headers:{Authorization:"Bearer ".concat(f)}}),g("Expense deleted successfully!"),N.push("/listexpense")}catch(e){console.error("Failed to delete expense:",e),u("Failed to delete expense"),g(null)}};return a?(0,s.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:(0,s.jsx)(r.P.div,{initial:{scale:.5},animate:{scale:1},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:a})}):e?(0,s.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gradient-to-r from-pink-100 via-purple-100 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsx)(l.N,{children:(0,s.jsx)(r.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:260,damping:20},className:"max-w-md mx-auto bg-white/90 backdrop-blur-md shadow-2xl rounded-3xl overflow-hidden",children:(0,s.jsxs)(r.P.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"p-6 space-y-6",children:[(0,s.jsx)(r.P.h1,{initial:{scale:.8},animate:{scale:1},className:"text-3xl font-extrabold text-gray-900 text-center mb-4 tracking-tight",children:e.title}),(0,s.jsx)(r.P.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},className:"space-y-4 bg-purple-100/50 p-5 rounded-xl border border-purple-200/50 shadow-inner",children:(0,s.jsxs)("div",{className:"space-y-4 bg-white/50 p-4 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,s.jsx)(o.A,{className:"mr-3 text-blue-500",size:24}),(0,s.jsx)("span",{className:"text-xl font-semibold",children:e.amount.toLocaleString("en-IN",{style:"currency",currency:"INR"})})]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,s.jsx)(d.A,{className:"mr-3 text-purple-500",size:24}),(0,s.jsx)("span",{className:"text-base",children:e.category.name})]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,s.jsx)(x.A,{className:"mr-3 text-green-500",size:24}),(0,s.jsx)("span",{className:"text-base",children:new Date(e.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})]}),e.note&&(0,s.jsxs)("div",{className:"flex items-start text-gray-700",children:[(0,s.jsx)(p.A,{className:"mr-3 text-gray-500 mt-1",size:24}),(0,s.jsx)("span",{className:"text-base italic",children:e.note||"No description"})]})]})}),(0,s.jsxs)(r.P.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)(r.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{N.push("/editexpense?id=".concat(b))},className:"flex items-center justify-center bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700",children:[(0,s.jsx)(m.A,{className:"mr-2",size:20})," Edit"]}),(0,s.jsxs)(r.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(b||""),className:"flex items-center justify-center bg-red-600 text-white py-3 rounded-xl hover:bg-red-700",children:[(0,s.jsx)(h.A,{className:"mr-2",size:20})," Delete"]})]})]})})})}):(0,s.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,s.jsx)(r.P.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"animate-pulse h-48 bg-gray-200 w-96 rounded-lg"})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[651,713,441,517,358],()=>t(98092)),_N_E=e.O()}]);