(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{94109:(e,s,a)=>{Promise.resolve().then(a.bind(a,9809))},9809:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>k});var t=a(95155),l=a(12115),n=a(82651),d=a(76046),i=a(58581),r=a(94973),c=a(15255),o=a(12800),h=a(66963),x=a(27112),m=a(86354),g=a(16161),p=a(22175),j=a(90457),u=a(67732),b=a(394),N=a(23021),y=a(45910),w=a(17032),f=a(91560),v=a(84869),A=a(76398);let S=["bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-red-500","bg-pink-500","bg-indigo-500","bg-teal-500"],E=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],k=()=>{let[e,s]=(0,l.useState)(0),[a,k]=(0,l.useState)(0),[B,z]=(0,l.useState)(0),[D,F]=(0,l.useState)(0),[C,_]=(0,l.useState)(""),[K,M]=(0,l.useState)(0),[T,P]=(0,l.useState)([]),[R,W]=(0,l.useState)([]),[L,O]=(0,l.useState)([]),[G,I]=(0,l.useState)([]),[q,H]=(0,l.useState)({}),[J,Q]=(0,l.useState)([]),[U,V]=(0,l.useState)(null),X=(0,d.useRouter)(),Y="https://expense-tracker-backend-five-zeta.vercel.app";return(0,l.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("token");if(!e){V("Authorization token is missing"),X.push("/login");return}let a=await n.A.get("".concat(Y,"/api/home/monthly-expense"),{headers:{Authorization:"Bearer ".concat(e)}});s(a.data.data.thisMonthAmount),k(a.data.data.lastMonthAmount);let t=await n.A.get("".concat(Y,"/api/home/daily-average"),{headers:{Authorization:"Bearer ".concat(e)}});z(t.data.data.dailyAverage);let l=await n.A.get("".concat(Y,"/api/home/biggest-expense"),{headers:{Authorization:"Bearer ".concat(e)}});F(l.data.data.biggestExpense.amount),_(l.data.data.category.name);let d=await n.A.get("".concat(Y,"/api/home/total-expenses"),{headers:{Authorization:"Bearer ".concat(e)}});M(d.data.data.totalAmount);let i=await n.A.get("".concat(Y,"/api/home/per-month-expense"),{headers:{Authorization:"Bearer ".concat(e)}});P(i.data.data);let r=(await n.A.get("".concat(Y,"/api/home/expense-per-category"),{headers:{Authorization:"Bearer ".concat(e)}})).data.data.expensePerCategory.map((e,s)=>({name:e.category,value:e.amount,Percent:e.percentage,color:S[s%S.length]}));W(r);let c=await n.A.get("".concat(Y,"/api/home/per-day-expense"),{headers:{Authorization:"Bearer ".concat(e)}});O(c.data.data);let o=await n.A.get("".concat(Y,"/api/home/recent-expenses"),{headers:{Authorization:"Bearer ".concat(e)}});I(o.data.data)}catch(e){console.error(e),V("Failed to fetch data")}})()},[Y,X]),(0,t.jsxs)("div",{className:"flex flex-col min-h-screen p-6 bg-gradient-to-r from-pink-100 via-purple-100 to-indigo-100",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Expense Dashboard"}),(0,t.jsxs)("button",{onClick:()=>{X.push("/addexpense")},className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:[(0,t.jsx)(y.A,{className:"w-5 h-5 mr-2"}),"Add Expense"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-gray-500 text-sm",children:"Monthly Total"}),(0,t.jsx)(w.A,{className:"w-5 h-5 text-blue-500"})]}),(0,t.jsxs)("p",{className:"text-2xl font-bold mt-2",children:["₹",e]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["vs ₹",a," last month"]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-gray-500 text-sm",children:"Daily Average"}),(0,t.jsx)(f.A,{className:"w-5 h-5 text-green-500"})]}),(0,t.jsxs)("p",{className:"text-2xl font-bold mt-2",children:["₹",B]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Last 7 days"})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-gray-500 text-sm",children:"Biggest Expense"}),(0,t.jsx)(v.A,{className:"w-5 h-5 text-red-500"})]}),(0,t.jsxs)("p",{className:"text-2xl font-bold mt-2",children:["₹",D]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:C})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-gray-500 text-sm",children:"Total Expense"}),(0,t.jsx)(A.A,{className:"w-5 h-5 text-purple-500"})]}),(0,t.jsxs)("p",{className:"text-2xl font-bold mt-2",children:["₹",K]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Monthly Expense Trend"}),(0,t.jsx)("div",{className:"h-[300px]",children:(0,t.jsx)(i.u,{width:"100%",height:"100%",children:(0,t.jsxs)(r.b,{data:T,children:[(0,t.jsx)(c.d,{strokeDasharray:"3 3"}),(0,t.jsx)(o.W,{dataKey:"name"}),(0,t.jsx)(h.h,{}),(0,t.jsx)(x.m,{}),(0,t.jsx)(m.s,{}),(0,t.jsx)(g.N,{type:"monotone",dataKey:"amount",stroke:"#8884d8",name:"Monthly Expenses"})]})})})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Expense by Category"}),(0,t.jsx)("div",{className:"h-[300px]",children:(0,t.jsx)(i.u,{width:"100%",height:"100%",children:(0,t.jsxs)(p.r,{children:[(0,t.jsx)(j.F,{data:R,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",dataKey:"value",label:!0,children:R.map((e,s)=>(0,t.jsx)(u.f,{fill:E[s%E.length]},"cell-".concat(s)))}),(0,t.jsx)(x.m,{}),(0,t.jsx)(m.s,{})]})})})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Daily Expenses This Week"}),(0,t.jsx)("div",{className:"h-[300px]",children:(0,t.jsx)(i.u,{width:"100%",height:"100%",children:(0,t.jsxs)(b.E,{data:L,children:[(0,t.jsx)(c.d,{strokeDasharray:"3 3"}),(0,t.jsx)(o.W,{dataKey:"day"}),(0,t.jsx)(h.h,{}),(0,t.jsx)(x.m,{}),(0,t.jsx)(m.s,{}),(0,t.jsx)(N.y,{dataKey:"amount",fill:"#82ca9d",name:"Daily Spend"})]})})})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Top Spending Categories"}),(0,t.jsx)("div",{className:"space-y-4",children:R.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full mr-2 ".concat(e.color)}),(0,t.jsx)("span",{children:e.name})]}),(0,t.jsxs)("span",{className:"font-semibold",children:["₹",e.value," ( ",e.Percent,"% )"]})]},s))})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recent Expenses"}),(0,t.jsx)("div",{className:"space-y-4",children:G.length>0?G.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-4 hover:bg-gray-50 rounded-lg border border-gray-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:e.title}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.category.name," • ",new Date(e.date).toLocaleDateString("en-GB")]})]}),(0,t.jsxs)("span",{className:"font-semibold text-red-600",children:["-₹",e.amount]})]},s)):(0,t.jsx)("p",{className:"text-gray-500 text-center",children:"No recent expenses"})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[651,111,441,517,358],()=>s(94109)),_N_E=e.O()}]);