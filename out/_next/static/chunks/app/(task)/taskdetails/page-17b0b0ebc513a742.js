(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[849],{23396:(e,t,a)=>{Promise.resolve().then(a.bind(a,38492))},76046:(e,t,a)=>{"use strict";var s=a(66658);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},38492:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(95155),r=a(12115),l=a(82651),n=a(76046);let u=()=>{let[e,t]=(0,r.useState)(null),[a,u]=(0,r.useState)(null),[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(""),[h,x]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[g,b]=(0,r.useState)(""),v=(0,n.useRouter)(),k=(0,n.useSearchParams)().get("id"),f="https://expense-tracker-backend-five-zeta.vercel.app";(0,r.useEffect)(()=>{let e=async()=>{try{if(!k){v.push("/viewtask");return}let e=localStorage.getItem("token");if(!e){u("Authorization token is missing"),v.push("/login");return}let a=await l.A.get("".concat(f,"/api/tasks/task/").concat(k),{headers:{Authorization:"Bearer ".concat(e)}}),s=a.data.data;console.log(a.data.data),t(s),d(s.title),x(s.description),m(new Date(s.dueDate).toISOString().split("T")[0]),b(s.comments||"")}catch(e){console.error(e),u("Failed to fetch task")}};if(k)e();else{u("Task ID is missing"),v.push("/viewtask");return}},[f,v,k]);let y=async e=>{e.preventDefault();try{let e=localStorage.getItem("token");if(!e){u("Authorization token is missing"),v.push("/login");return}await l.A.put("".concat(f,"/api/tasks/task/").concat(k),{title:c,description:h,dueDate:p,comments:g},{headers:{Authorization:"Bearer ".concat(e)}}),o("Task updated successfully!"),v.push("/viewtask")}catch(e){console.error(e),u("Failed to update task")}};return e?(0,s.jsxs)("div",{className:"relative w-full px-6 py-10 bg-gradient-to-r from-pink-100 via-purple-100 to-indigo-100 rounded-xl shadow-lg mx-auto",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-center mb-8 text-purple-900",children:"Edit Task"}),i&&(0,s.jsx)("div",{className:"text-green-600 text-center mb-4",children:i}),a&&(0,s.jsx)("div",{className:"text-red-600 text-center mb-4",children:a}),(0,s.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700",children:"Title:"}),(0,s.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded w-full",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700",children:"Description:"}),(0,s.jsx)("textarea",{value:h,onChange:e=>x(e.target.value),className:"px-4 py-2 border border-gray-300 rounded w-full",rows:4,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700",children:"Due Date:"}),(0,s.jsx)("input",{type:"date",value:p,onChange:e=>m(e.target.value),className:"px-4 py-2 border border-gray-300 rounded w-full",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700",children:"Comments:"}),(0,s.jsx)("textarea",{value:g,onChange:e=>b(e.target.value),className:"px-4 py-2 border border-gray-300 rounded w-full",rows:4})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("button",{type:"submit",className:"px-6 py-2 text-white bg-blue-500 rounded hover:bg-blue-600",children:"Update Task"})})]})]}):(0,s.jsx)("div",{children:"Loading..."})}}},e=>{var t=t=>e(e.s=t);e.O(0,[651,441,517,358],()=>t(23396)),_N_E=e.O()}]);