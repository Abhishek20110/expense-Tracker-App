(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{81027:(e,t,s)=>{Promise.resolve().then(s.bind(s,49389))},76046:(e,t,s)=>{"use strict";var a=s(66658);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},49389:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(95155),r=s(12115),l=s(82651),n=s(76046),o=s(48173),u=s.n(o);let d=()=>{let[e,t]=(0,r.useState)({email:"",password:""}),[s,o]=(0,r.useState)(null),[d,c]=(0,r.useState)(null),i=(0,n.useRouter)();(0,r.useEffect)(()=>{localStorage.getItem("token")&&i.push("/myprofile")},[i]);let m=s=>{t({...e,[s.target.name]:s.target.value})},h=async t=>{t.preventDefault();try{let t=await l.A.post("".concat("https://expense-tracker-backend-five-zeta.vercel.app","/api/users/login"),e);if(200===t.status){let e=t.data.token,s=Date.now()+1728e5;localStorage.setItem("token",e),localStorage.setItem("tokenExpiration",s.toString()),o("Logged in successfully!"),c(null),i.push("/")}}catch(e){c("Invalid email or password"),o(null)}};return(0,a.jsxs)("div",{className:"max-w-md mx-auto mt-10 p-4 bg-white rounded shadow-md",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center mb-6",children:"Login"}),s&&(0,a.jsx)("div",{className:"mb-4 p-2 bg-green-200 text-green-800 rounded",children:s}),d&&(0,a.jsx)("div",{className:"mb-4 p-2 bg-red-200 text-red-800 rounded",children:d}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsx)("input",{type:"email",name:"email",value:e.email,onChange:m,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,a.jsx)("input",{type:"password",name:"password",value:e.password,onChange:m,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("button",{type:"submit",className:"w-full px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600",children:"Login"})})]}),(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsx)(u(),{href:"/register",children:"Register new account"})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[651,173,441,517,358],()=>t(81027)),_N_E=e.O()}]);