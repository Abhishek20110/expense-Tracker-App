(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{15600:(e,t,a)=>{Promise.resolve().then(a.bind(a,95148))},76046:(e,t,a)=>{"use strict";var r=a(66658);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},95148:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var r=a(95155),s=a(12115),l=a(82651),n=a(76046);let i=()=>{let[e,t]=(0,s.useState)(null),[a,i]=(0,s.useState)(""),[o,u]=(0,s.useState)(""),[d,c]=(0,s.useState)(""),[m,h]=(0,s.useState)(null),[x,b]=(0,s.useState)(!0),[f,p]=(0,s.useState)(null),g="https://expense-tracker-backend-five-zeta.vercel.app",v=(0,n.useRouter)();(0,s.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("token");if(!e){h("Authorization token is missing"),b(!1),v.push("/login");return}let a=(await l.A.get("".concat(g,"/api/users/users/mydetails"),{headers:{Authorization:"Bearer ".concat(e)}})).data.data;t(a),i(a.name),u(a.email),c(a.phone)}catch(e){h("Failed to fetch user data")}finally{b(!1)}})()},[g,v]);let N=async e=>{e.preventDefault(),h(null),p(null);try{let e=localStorage.getItem("token");if(!e){h("Authorization token is missing"),v.push("/login");return}let t=await l.A.put("".concat(g,"/api/users/edit"),{name:a,email:o,phone:d},{headers:{Authorization:"Bearer ".concat(e)}});200===t.status&&p("Profile updated successfully!")}catch(e){h("Failed to update profile")}};return x?(0,r.jsx)("div",{children:"Loading..."}):m?(0,r.jsx)("div",{className:"text-red-500 text-center",children:m}):(0,r.jsx)("div",{className:"flex justify-center items-center h-screen w-full bg-gradient-to-r from-pink-100 via-purple-100 to-indigo-100",children:(0,r.jsxs)("div",{className:"max-w-xl w-full p-6 bg-white rounded-xl shadow-lg",children:["   ",(0,r.jsx)("h1",{className:"text-4xl font-bold text-center mb-8 text-purple-900",children:"Edit Profile"}),f&&(0,r.jsx)("div",{className:"text-green-600 text-center mb-4",children:f}),m&&(0,r.jsx)("div",{className:"text-red-600 text-center mb-4",children:m}),(0,r.jsxs)("form",{onSubmit:N,children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-lg font-semibold text-indigo-800 mb-2",children:"Name"}),(0,r.jsx)("input",{type:"text",value:a,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-lg font-semibold text-indigo-800 mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",value:o,onChange:e=>u(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-lg font-semibold text-indigo-800 mb-2",children:"Phone"}),(0,r.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("button",{type:"submit",className:"px-6 py-3 text-white bg-gradient-to-r from-green-400 to-blue-500 rounded-full hover:from-green-500 hover:to-blue-600 transition duration-300",children:"Update Profile"})})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[651,441,517,358],()=>t(15600)),_N_E=e.O()}]);